{
  "version": 3,
  "sources": ["../src/index.ts", "../../runtime-core/src/renderer.ts", "../../runtime-core/src/h.ts", "../src/nodeOps.ts", "../src/modules/attr.ts", "../src/modules/class.ts", "../src/modules/event.ts", "../src/modules/style.ts", "../src/patchProp.ts"],
  "sourcesContent": ["\nimport { createRenderer } from '@vue/runtime-core'\nimport { nodeOps } from \"./nodeOps\";\nimport { patchProp } from \"./patchProp\";\n\nconst renderOptions = Object.assign(nodeOps, { patchProp })//domAPI \u5C5E\u6027api;\nconsole.log('renderOptions--->', renderOptions)\n\n\n\n//createRenderer(renderOptions).render(h('h1','hello'),document.getElementById('app'));\nexport function render(vnode, container: HTMLElement) {\n  //\u5728\u521B\u5EFA\u6E32\u67D3\u5668\u7684\u65F6\u5019\u4F20\u5165\u9009\u9879;\n  createRenderer(renderOptions).render(vnode, container);\n}\nexport * from '@vue/runtime-core'", "export function createRenderer(renderOptions) {\n  //vnode \u865A\u62DFDOM;\n  const render = (vnode, container) => {//\u6E32\u67D3\u8FC7\u7A0B\u662F\u7528\u4F20\u5165\u7684`renderOptions`\u6765\u8FDB\u884C\u6E32\u67D3;\n\n  }\n  return {\n    render\n  }\n}", "export function h(){\n  \n}", "export const nodeOps = {\n  //\u589E\u52A0 \u5220\u9664 \u4FEE\u6539 \u67E5\u8BE2\n\n  //\u63D2\u5165\u8282\u70B9;\n  insert(child: Node, parent: Element, anchor: Node = null) {\n    parent.insertBefore(child, anchor)//insertBefore\u53EF\u4EE5\u7B49\u4EF7\u4E8EappendChild;\n  },\n\n  //remove-\u5220\u9664\u8282\u70B9;\n  remove(child: Node) {\n    const parentNode = child.parentNode;\n    if (parentNode) {\n      parentNode.removeChild(child)\n    }\n  },\n\n  //\u6587\u672C\u8282\u70B9,\u5143\u7D20\u4E2D\u7684\u5185\u5BB9;\n\n  //\u4FEE\u6539\u5143\u7D20\u4E2D\u7684\u6587\u672C;-\u5F53\u4F20\u5165\u7684\u662F\u5143\u7D20\u65F6;\n  setElementText(el: Element, text: string) {\n    el.textContent = text\n  },\n  //\u8BBE\u7F6E\u6587\u672C\u8282\u70B9;-\u5F53\u4F20\u5165\u7684\u662F\u6587\u672C\u8282\u70B9\u65F6;\n  setText(node: Node, text: string) {\n    node.nodeValue = text\n  },\n\n  //\u67E5\u8BE2\u5143\u7D20;\n  querySelector(selector) {\n    return document.querySelector(selector)\n  },\n  //\u67E5\u8BE2\u7236\u8282\u70B9;\n  parentNode(node: Node) {\n    return node.parentNode\n  },\n  //\u67E5\u8BE2\u5144\u5F1F\u8282\u70B9;\n  nextSibling(node: Node) {\n    return node.nextSibling\n  },\n\n  //\u521B\u5EFA\u5143\u7D20\u8282\u70B9;\n  createElement(tagName: string) {\n    return document.createElement(tagName)\n  },\n  //\u521B\u5EFA\u6587\u672C\u8282\u70B9;\n  createText(text: string) {\n    return document.createTextNode(text)\n  }\n\n\n}\n/* //\u8981\u5199\u7684\u65B9\u6CD5;\nconst fang = {\n  insert: hostInsert,//\u63D2\u5165\u8282\u70B9;\n  remove: hostRemove,//\u5220\u9664\u8282\u70B9;\n  patchProp: hostPatchProp,//\u5C5E\u6027\u64CD\u4F5C,\u8981\u5355\u72EC\u53BB\u5199;//patch\u5B9E\u9645\u4E0A\u5C31\u662F\u8865\u4E01\u6216\u6BD4\u5BF9\u7684\u610F\u601D;//\u56E0\u4E3A\u8FD9\u4E2A\u65B9\u6CD5\u5373\u8981\u80FD\u521B\u5EFA,\u53C8\u8981\u80FD\u4FEE\u6539,\u8FD8\u8981\u80FD\u79FB\u9664;\n  createElement: hostCreateElement,//\u521B\u5EFA\u5143\u7D20;\n  createText: hostCreateText,//\u521B\u5EFA\u6587\u672C;\n  createComment: hostCreateComment,//\u521B\u5EFA\u6CE8\u91CA;\n  setText: hostSetText,//\u8BBE\u7F6E\u6587\u672C\u8282\u70B9\u6587\u672C;\n  setElementText: hostSetElementText,//\u8BBE\u7F6E\u5143\u7D20\u8282\u70B9\u6587\u672C;\n  parentNode: hostParentNode,//\u83B7\u53D6\u7236\u8282\u70B9;\n  nextSibling: hostNextSibling,//\u83B7\u53D6\u5144\u5F1F\u8282\u70B9;\n  setScopeId: hostSetScopeId = NOOP,//`NOOP`\u5C31\u662F\u7A7A\u51FD\u6570\u7684\u610F\u601D;\n  cloneNode: hostCloneNode,//\u628A\u8282\u70B9\u62F7\u8D1D;\n  insertStaticContent: hostInsertStaticContent,//\u63D2\u5165\u9759\u6001\u5185\u5BB9;\n} */", "//\u6BD4\u5BF9\u666E\u901A\u5C5E\u6027;\nexport function patchAttr(el: HTMLElement, key: string, nextValue: string) {\n  if (nextValue) {\n    el.setAttribute(key, nextValue)\n  } else {\n    el.removeAttribute(key)\n  }\n}", "//\u6BD4\u5BF9\u7C7B\u540D;\nexport function patchClass(el: HTMLElement, nextValue: string | null) {\n\n  if (nextValue === null) {\n    el.removeAttribute('class')//\u5982\u679C\u4E0D\u9700\u8981class,\u76F4\u63A5\u79FB\u9664;\n  } else {\n    el.className = nextValue\n  }\n}", "function createInvoker<T extends Function | Array<Function>>(callback: T) {\n  if (typeof callback !== 'function') {\n    //\u4E0D\u662F\u51FD\u6570\u65F6;(\u6682\u65F6\u4E0D\u5199)\n    const invoker = (event: any) => {\n      for (let index = 0; index < (invoker.value as Array<Function>).length; index++) {\n        invoker.value[index](event)\n      }\n    };\n    invoker.value = callback\n    return invoker\n\n  }\n\n  const invoker = (event: any) => (invoker.value as Function)(event);\n  invoker.value = callback\n  return invoker\n}\n\n\n//\u6BD4\u5BF9\u4E8B\u4EF6;\n//\u7B2C\u4E00\u6B21\u7ED1\u5B9AonClick\u4E8B\u4EF6-->\u4E8B\u4EF6a; //el._vei = {}; el._vei = {onClick:invoker\u51FD\u6570} invoker\u51FD\u6570.value\u4E3A\u4E8B\u4EF6a; el.addEventListener('click', (event) => invoker.value(event)); el.addEventListener('click', (event) => a(event));\n//\u7B2C\u4E8C\u6B21\u7ED1\u5B9AonClick\u4E8B\u4EF6-->\u4E8B\u4EF6b; //el._vei = {onClick:invoker\u51FD\u6570} invoker\u51FD\u6570.value\u4E3A\u4E8B\u4EF6b; el.addEventListener('click', (event) => invoker.value(event)); el.addEventListener('click', (event) => b(event));\n//\u7B2C\u4E09\u6B21\u7ED1\u5B9AonClick\u4E8B\u4EF6-->null(\u65E0\u4E8B\u4EF6); //el.addEventListener('click', (event) => invoker.value(event)); el._vei = {};\n//\u7B2C\u56DB\u6B21\u7ED1\u5B9AonClick\u4E8B\u4EF6-->[\u4E8B\u4EF6c,\u4E8B\u4EF6d];\n//\u7B2C\u56DB\u6B21\u7ED1\u5B9AonClick\u4E8B\u4EF6-->\u4E8B\u4EF6e;\nexport function patchEvent(el: HTMLElement & { _vei?: object }, eventName: string, nextValue: Function | Array<Function> | null) {\n  //\u4E8B\u4EF6\u7ED1\u5B9A\u90FD\u7F13\u5B58\u5230\u4E86\u5F53\u524DDOM\u4E0A;\n\n\n  //\u53EF\u4EE5\u5148\u79FB\u9664\u6389\u4E8B\u4EF6,\u518D\u91CD\u65B0\u7ED1\u5B9A\u4E8B\u4EF6;\n  //remove -> add ===> add + \u81EA\u5B9A\u4E49\u4E8B\u4EF6(\u91CC\u9762\u8C03\u7528\u7ED1\u5B9A\u7684\u65B9\u6CD5);\n\n  //const invokers = el._vei || (el._vei = {})\n  if (!el._vei) {\n    el._vei = {}\n  }\n  const invokers = el._vei\n\n  const exits = invokers[eventName]//\u5148\u770B\u6709\u6CA1\u6709\u7F13\u5B58\u8FC7;\n\n  //\u76EE\u524D\u8FD9\u91CC\u53EA\u8003\u8651\u5230nextValue\u53EA\u4E3AFunction\u7684\u5904\u7406;\n  //\u6CA1\u6709\u8003\u8651\u5230\u53EF\u80FD\u4E00\u6B21\u4E3AFunction,\u53E6\u4E00\u6B21\u4E3AArray<Function>\u7684\u60C5\u51B5;\n  if (exits && nextValue) {//\u5DF2\u7ECF\u7ED1\u5B9A\u8FC7\u4E8B\u4EF6\u4E86;\n    exits.value = nextValue//\u6CA1\u6709\u5378\u8F7D\u51FD\u6570,\u53EA\u662F\u6539\u4E86invoker.value\u5C5E\u6027;\n  } else {\n    //\u8FD8\u6CA1\u7ED1\u5B9A\u8FC7\u4E8B\u4EF6;\n    //onClick=click;\n    const eventLower = eventName.slice(2).toLowerCase();\n    if (nextValue) {\n      //const invoker = invokers[eventName] = createInvoker(nextValue)\n      invokers[eventName] = createInvoker(nextValue)\n      const invoker = invokers[eventName]\n\n      el.addEventListener(eventLower, invoker)\n    } else if (exits) {\n      //\u5982\u679C\u6709\u8001\u503C,\u9700\u8981\u5C06\u8001\u7684\u7ED1\u5B9A\u4E8B\u4EF6\u79FB\u9664\u6389;\n      el.removeEventListener(eventLower, exits)\n      invokers[eventName] = undefined\n    }\n  }\n\n}", "//\u6BD4\u5BF9\u6837\u5F0F;\nexport function patchStyle(el: HTMLElement, prevValue: object | null, nextValue: object | null) {\n  //\u6837\u5F0F\u9700\u8981\u6BD4\u5BF9\u5DEE\u5F02;\n  //1. \u65B0\u5BF9\u8C61\u7684\u76F4\u63A5\u8D4B\u503C;\n  //2. \u8001\u5BF9\u8C61\u7684\u7528key\u770B\u65B0\u7684\u6709\u6CA1\u6709\u540C\u540Dkey,\u5982\u679C\u6CA1\u6709,\u5219\u4EE3\u8868\u8981\u628A\u8001\u5BF9\u8C61\u7684key\u5C5E\u6027\u53BB\u9664;\n\n  //\u5176\u5B9E\u4E5F\u53EF\u4EE5\u5148\u6E05\u7A7A\u8001\u5BF9\u8C61\u4E0A\u7684\u6240\u6709key,\u518D\u8D4B\u503C\u4E0A\u65B0\u5BF9\u8C61\u7684\u6240\u6709key;\n\n  for (const key in nextValue) {\n    //\u7528\u65B0\u7684\u76F4\u63A5\u8986\u76D6\u5373\u53EF;\n    el.style[key] = nextValue[key]\n  }\n\n  if (!prevValue) {\n    return\n  }\n  for (const key in prevValue) {\n    if (nextValue[key] === undefined && nextValue[key] === null) {\n      continue\n    }\n    el.style[key] = null\n  }\n}", "\n//null,\u503C;\n//\u503C,\u503C;\n//\u503C,null;\n\nimport { patchAttr } from \"./modules/attr\";\nimport { patchClass } from \"./modules/class\";\nimport { patchEvent } from \"./modules/event\";\nimport { patchStyle } from \"./modules/style\";\n\n//patch\u5B9E\u9645\u4E0A\u5C31\u662F\u8865\u4E01\u6216\u6BD4\u5BF9\u7684\u610F\u601D;\n//\u56E0\u4E3A\u8FD9\u4E2A\u65B9\u6CD5\u5373\u8981\u80FD\u521B\u5EFA,\u53C8\u8981\u80FD\u4FEE\u6539,\u8FD8\u8981\u80FD\u79FB\u9664;\n//dom\u5C5E\u6027\u7684\u64CD\u4F5Capi;\n\n\nexport function patchProp(el: HTMLElement, key: string, prevValue: any, nextValue: unknown) {\n\n  //[vue\u6A21\u5757\u89E3\u6790](https://vue-next-template-explorer.netlify.app/);\u7528\u6765\u770B\u6A21\u677F\u8F6C\u6210VNode;\n\n  //\u8981\u5355\u72EC\u5904\u7406\u7684:\n  if (key === 'class') {//\u7C7B\u540D-el.className;\n    //class=\"a\" class=\"a b\" class;\n    patchClass(el, nextValue as string | null)\n  } else if (key === 'style') {//\u6837\u5F0F-el.style;\n    //style {color:'red',fontSize:'12'} {color:'blue',background:'red'};\n    patchStyle(el, prevValue as object | null, nextValue as object | null)\n  } else if (/^[o][n][^a-z]/.test(key)) {//\u4E8B\u4EF6-events;addEventListener;\n    //\u4E00\u822C\u6A21\u677F\u4E2D`<div @xx>\u6587\u672C</div>`\u4F1A\u8F6C\u6210`[\"div\", { onXx: () => {} }, \"\u6587\u672C\"]`;\n    //\u5373\u5C5E\u6027\u540D\u4EE5\u5C0F\u5199on\u5F00\u5934,\u540E\u65B9\u5982\u679C\u662F\u5B57\u6BCD,\u5219\u8F6C\u4E3A\u5927\u5199;\n    patchEvent(el, key, nextValue as Function | Array<Function> | null)\n  } else {//\u666E\u901A\u5C5E\u6027;//\u6B63\u5E38\u5C5E\u6027\u53EF\u4EE5\u7528el.setAttribute();\n    patchAttr(el, key, nextValue as string)\n  }\n\n\n}\n//\u865A\u62DFDOM;\n//\u5982\u4F55\u521B\u5EFA\u771F\u5B9EDOM;\n//dom-diff \u6700\u957F\u9012\u589E\u5B50\u5E8F\u5217;\n//\u7EC4\u4EF6\u7684\u5B9E\u73B0;\u6A21\u677F\u6E32\u67D3; \u6838\u5FC3\u7684\u7EC4\u4EF6\u66F4\u65B0\u7B49\u7B49; \u7EC4\u4EF6 ....;\n//\u6A21\u677F\u7F16\u8BD1-\u7F16\u8BD1\u539F\u7406 + \u4EE3\u7801\u8F6C\u5316 + \u4EE3\u7801\u751F\u6210 + (\u7F16\u8BD1\u4F18\u5316);\n\n/* //\u4E00\u6B21\u6BD4\u5BF9\u591A\u4E2A\u5C5E\u6027;\nfor (const key in obj) {\n  patchProp(el, key, null, obj[key])\n} */"],
  "mappings": "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",
  "names": []
}
